<!DOCTYPE html>
<html>
    <head>
        <title>Take this damn potato!</title>
    </head>
    <body>
        <h1>Please ignore this beautiful website and take the damn potatoğŸ¥”</h1>
        <p>Please enter your own public key and take the potato from me...</p>
        <input id="pub" placeholder="Your Public key"/>
        <button onclick=submit()>Submit</button>
        <p>Made with ğŸ’“ and Web 1.0(?)</p>
        <a href="https://github.com/Smephite/Stellar-Potato">GitHub</a>
    </body>
    <script>
        function submit(){
            pub = document.getElementById('pub').value;
            if(pub === ""){
                alert("Please enter your public key!");
                return;
            }
            fetch(`/${pub}`).then(async (res) => {

                if(res.ok) {
                    let j = await res.json();
                    window.location.href = j['url'];
                } else {
                    let j = await res.json();
                    alert("Error getting the ğŸ¥”: " + j['err']);
                }

            }).catch((err) => {
                alert("Error getting the ğŸ¥”: "+ err);
            })
        }
    </script>
</html>